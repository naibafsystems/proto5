function recargar(){window.location.href=base_url+"registro"}$(function(){redirectBrowser(),$(window).scroll(function(){$(this).scrollTop()>400?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").click(function(){return $("html, body").animate({scrollTop:0},600),!1});var e=new BootstrapDialog({title:"Instancia del dialogo",message:"Mensaje generico"});$.validator.addMethod("validaTelefono",function(e,r,o){var a=$("#"+o[0]).val(),l=$("#"+o[1]).val(),s=$("#"+o[2]).val();return"-"!=a&&""!=l.trim()||""!=s.trim()}),$.validator.addMethod("validarCelular",function(e,r,o){if(e.length>0){if(e.length<10||isNaN(e))return!1;if(3!=e[0])return!1}return!0}),$("#telefono_fijo").soloNumeros(),$("#telefono_celular").soloNumeros(),$("#frmRegistro").validate({errorClass:"error-form",rules:{telefono_celular:{validarCelular:!0}},messages:{telefono_celular:{validarCelular:"ERROR: El número del teléfono celular debe tener 10 dígitos y comenzar con el número 3.",validaTelefono:"ERROR: Digite el teléfono celular."}},onfocusout:function(e){$(e).valid()||$("#"+$(e).attr("id")).focus()},errorPlacement:function(e,r){$(r).parents(".form-group").first().append(e.attr("role","alert"))},highlight:function(e,r,o){$(e).parents(".form-group").first().addClass("has-error")},unhighlight:function(e,r,o){$(e).parents(".form-group").first().removeClass("has-error")},submitHandler:function(e){return!0}}),$("#btnSiguiente").on("click",function(){if($(".alert").addClass("hidden"),1==$("#frmRegistro").valid()){var r=$("#frmRegistro").validate(),o=$("#indicativo_fijo").val(),a=$("#telefono_fijo").val(),l=$("#telefono_celular").val();if(o.length>0){if(0==a.length)return r.showErrors({telefono_fijo:"ERROR: Digite el teléfono fijo de 7 dígitos."}),!1;if(7!=a.length)return r.showErrors({telefono_fijo:"ERROR: El teléfono fijo debe tener 7 dígitos."}),!1}if(0==o.length&&a.length>0)return r.showErrors({indicativo_fijo:"ERROR: Seleccione el indicativo del teléfono fijo."}),!1;if(0==l.length&&0==a.length)return r.showErrors({telefono_celular:"ERROR: Ingrese un teléfono fijo o un teléfono celular."}),!1;var s=$("#frmRegistro").serialize();$(":input").addClass("disabled").prop("disabled",!0),$(":button").addClass("disabled").prop("disabled",!0),$.ajax({url:base_url+"registro/guardar",type:"POST",dataType:"json",data:s+"&duracion="+duracionPagina(),beforeSend:function(){$("#msgSuccess").html("Guardando las respuestas..."),$("#divMsg").removeClass("hidden"),$("#divMsgSuccess").removeClass("hidden")}}).done(function(e){0==e.codiError?($("#msgSuccess").html(e.mensaje),$("#divMsg").removeClass("hidden"),$("#divMsgSuccess").removeClass("hidden"),$("#progressbar").html(e.avance+" COMPLETADO").css("width",e.avance),setTimeout(recargar,2e3)):($("#msgError").html(e.mensaje),$("#divMsg").removeClass("hidden"),$("#divMsgAlert").removeClass("hidden"))}).fail(function(r){e.setTitle("Error al guardar"),e.setType(BootstrapDialog.TYPE_DANGER),e.setMessage(r.responseText),e.open()})}}),$("#btnAnterior").on("click",function(){$(":input").addClass("disabled").prop("disabled",!0),$(":button").addClass("disabled").prop("disabled",!0),$.ajax({url:base_url+"registro/regresar",type:"POST",dataType:"json",data:"duracion="+duracionPagina()}).done(function(e){0==e.codiError?($("#progressbar").html(e.avance+" COMPLETADO").css("width",e.avance),window.location.href=base_url+"registro"):($("#msgError").html(e.mensaje),$("#divMsg").removeClass("hidden"),$("#divMsgAlert").removeClass("hidden"))}).fail(function(r){e.setTitle("Error al regresar"),e.setType(BootstrapDialog.TYPE_DANGER),e.setMessage(r.responseText),e.open()})})});