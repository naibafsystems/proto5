$(function(){redirectBrowser(),$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),$(window).scroll(function(){$(this).scrollTop()>400?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").click(function(){return $("html, body").animate({scrollTop:0},600),!1});var o=new BootstrapDialog({title:"Instancia del dialogo",message:"Mensaje generico"});$.fn.initContadorTa=function(o,a,r){$("#"+o).keyup(function(){$(this).updateContadorTa(o,a,r)}),$("#"+o).change(function(){$(this).updateContadorTa(o,a,r)})},$.fn.updateContadorTa=function(o,a,r){var e=$("#"+a),t=$("#"+o);e.html("0/"+r),e.html(t.val().length+"/"+r),parseInt(t.val().length)>r&&(t.val(t.val().substring(0,r-1)),e.html(r+"/"+r))},$(".progress").addClass("hidden"),$("#observacion").initContadorTa("observacion","contadorTaComentario",2e3),$("input[name=razon]").click(function(){5==$("input:radio[name=razon]:checked").val()?$("#observacion").prop("disabled",!1).removeClass("disabled"):$("#observacion").prop("disabled",!0).addClass("disabled").val("")}),$("#frmNoAcepto").validate({errorClass:"error-form",rules:{razon:{required:!0},observacion:{required:!0}},messages:{razon:{required:"Error: Seleccione la razón por la que no deseas participar."},observacion:{required:"Error: Digite la razón por la que no deseas participar."}},onfocusout:function(o){$(o).valid()||$("#"+$(o).attr("id")).focus()},errorPlacement:function(o,a){$(a).parents(".form-group").first().append(o.attr("role","alert"))},highlight:function(o,a,r){$(o).parents(".form-group").first().addClass("has-error")},unhighlight:function(o,a,r){$(o).parents(".form-group").first().removeClass("has-error")},submitHandler:function(o){return!0}}),$("#btnNoAcepto").click(function(){if(1==$("#frmNoAcepto").valid()){var a=$("#frmNoAcepto").serialize();$.ajax({url:base_url+"registro/guardarNoAcepto",type:"POST",dataType:"json",data:a}).done(function(o){0==o.codiError?BootstrapDialog.show({title:"Guardar no acepto",message:o.mensaje,closable:!1,buttons:[{label:"Aceptar",action:function(o){$(location).attr("href",base_url)}}]}):1==o.codiError&&BootstrapDialog.show({title:"Guardar no acepto",message:o.mensaje,closable:!1,buttons:[{label:"Aceptar",action:function(o){$(location).attr("href",base_url+"/registro")}}]})}).fail(function(a){o.setTitle("Error al guardar"),o.setType(BootstrapDialog.TYPE_DANGER),o.setMessage(a.responseText),o.open()})}}),$("#btnRegresar").click(function(){$(":input").addClass("disabled").prop("disabled",!0),$(":button").addClass("disabled").prop("disabled",!0),$(location).attr("href",base_url+"registro")})});