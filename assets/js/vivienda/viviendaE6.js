function recargar(){window.location.href=base_url+"vivienda"}$(function(){redirectBrowser(),$(window).scroll(function(){$(this).scrollTop()>400?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").on("click",function(){return $("html, body").animate({scrollTop:0},600),!1}),$('[data-tooltip!=""]').qtip({content:{attr:"data-tooltip"},position:{my:"top left"},style:{classes:"qtip-bootstrap qtip-DANE"}});new BootstrapDialog({title:"Instancia del dialogo",message:"Mensaje generico"});$("input[type=radio][name=energia_electrica]").on("change",function(){1==$(this).val()?$("#energia_electrica-1-panel").removeClass("hidden"):($("#energia_electrica-1-panel").addClass("hidden"),$("#energia_estrato").val(""))}),$("input[type=radio][name=alcantarillado]").on("change",function(){1==$(this).val()?$("#sanitario-col").removeClass("hidden"):($("#sanitario-col").addClass("hidden"),$("#input[name='sanitario-col']").removeAttr("checked"))}),$("input[type=radio][name=basura]").on("change",function(){1==$(this).val()?$("#basura-1-panel").removeClass("hidden"):($("#basura-1-panel").addClass("hidden"),$("#veces_basura").val(""))}),$("#frmVivienda").validate({errorClass:"error-form",rules:{energia_electrica:{required:!0},energia_estrato:{required:!0},acueducto:{required:!0},alcantarillado:{required:!0},sanitario:{required:!0},gas_natural:{required:!0},basura:{required:!0},veces_basura:{required:!0},internet:{required:!0}},messages:{energia_electrica:{required:"ERROR: Debe seleccionar una de las opciones de vivienda."},energia_estrato:{required:"ERROR: Debe seleccionar una de las opciones de vivienda."},acueducto:{required:"ERROR: Debe seleccionar una de las opciones de vivienda."},alcantarillado:{required:"ERROR: Debe seleccionar una de las opciones de vivienda."},sanitario:{required:"ERROR: Debe seleccionar una de las opciones de vivienda."},gas_natural:{required:"ERROR: Debe seleccionar una de las opciones de vivienda."},basura:{required:"ERROR: Debe seleccionar una de las opciones de vivienda."},veces_basura:{required:"ERROR: Debe seleccionar una de las opciones de vivienda."},internet:{required:"ERROR: Debe seleccionar una de las opciones de vivienda."}},onfocusout:function(e){$(e).valid()||$("#"+$(e).attr("id")).focus()},errorPlacement:function(e,a){$(a).parents(".form-group").first().append(e.attr("role","alert"))},highlight:function(e,a,i){$(e).parents(".form-group").first().addClass("has-error")},unhighlight:function(e,a,i){$(e).parents(".form-group").first().removeClass("has-error")},submitHandler:function(e){return!0}}),$("#btnSiguiente").on("click",function(){if($(".alert").addClass("hidden"),1==$("#frmVivienda").valid()){var e=$("#frmVivienda").serialize();$(":input").addClass("disabled").prop("disabled",!0),$(":button").addClass("disabled").prop("disabled",!0),$.ajax({url:base_url+"vivienda/guardar",type:"POST",dataType:"json",data:e+"&duracion="+duracionPagina(),beforeSend:function(){$("#msgSuccess").html("Guardando la(s) respuesta(s). Espere por favor..."),$("#divMsg").removeClass("hidden"),$("#divMsgSuccess").removeClass("hidden")}}).done(function(e){0==e.codiError?($("#msgSuccess").html(e.mensaje),$("#divMsg").removeClass("hidden"),$("#divMsgSuccess").removeClass("hidden"),$("#progressbar").html(e.avance+" COMPLETADO").css("width",e.avance),setTimeout(recargar,2e3)):($("#msgSuccess").html(e.mensaje),$("#divMsg").removeClass("hidden"),$("#divMsgAlert").removeClass("hidden"))}).fail(function(e){window.location.href=base_url+"vivienda"})}}),$("#btnAnterior").on("click",function(){$(":input").addClass("disabled").prop("disabled",!0),$(":button").addClass("disabled").prop("disabled",!0),$.ajax({url:base_url+"vivienda/regresar",type:"POST",dataType:"json",data:"duracion="+duracionPagina()}).done(function(e){0==e.codiError?($("#progressbar").html(e.avance+" COMPLETADO").css("width",e.avance),window.location.href=base_url+"vivienda"):($("#msgError").html(e.mensaje),$("#divMsg").removeClass("hidden"),$("#divMsgAlert").removeClass("hidden"))}).fail(function(e){window.location.href=base_url+"vivienda"})})});